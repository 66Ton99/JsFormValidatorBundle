//noinspection JSUnusedGlobalSymbols
/**
 * Created by ymaltsev on 11/28/13.
 */
function SymfonyComponentFormExtensionCoreDataTransformerDateTimeToArrayTransformer() {
    this.dateFormat = '{0}-{1}-{2}';
    this.timeFormat = '{0}:{1}:{2}';

    this.reverseTransform = function(value) {
        var result = [];

        if (value['year'] || value['month'] || value['day']) {
            result.push(this.formatDate(this.dateFormat, [
                value['year']  ? value['year']  : '1970',
                value['month'] ? value['month'] : '1',
                value['day']   ? value['day']   : '1'
            ]));
        }
        if (value['hour'] || value['minute'] || value['second']) {
            result.push(this.formatDate(this.timeFormat, [
                value['hour']   ? value['hour']   : '0',
                value['minute'] ? value['minute'] : '0',
                value['second'] ? value['second'] : '0'
            ]));
        }
        console.log(result);

        return result.join(' ');
    };

    this.formatDate = function(format, date) {
        return format.replace(/{(\d+)}/g, function(match, number) {
            return typeof date[number] != 'undefined'
                ? date[number]
                : match
            ;
        });
    }
}